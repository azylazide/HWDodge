[gd_scene load_steps=9 format=3 uid="uid://5dw8kxd0u1fv"]

[ext_resource type="Script" path="res://src/base_rigid_enemy.gd" id="1_jidxe"]
[ext_resource type="Script" path="res://src/sample_enemy_parrybox.gd" id="2_udssa"]
[ext_resource type="Script" path="res://src/enemystatemachine.gd" id="3_plxwu"]
[ext_resource type="Script" path="res://src/enemy_chase.gd" id="4_avyhj"]
[ext_resource type="Script" path="res://src/enemy_knockback.gd" id="5_7fu8x"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_a282x"]
friction = 0.0

[sub_resource type="CircleShape2D" id="CircleShape2D_l2k6h"]
radius = 57.7235

[sub_resource type="CircleShape2D" id="CircleShape2D_jxhfq"]
radius = 27.8927

[node name="RigidBody2D" type="RigidBody2D"]
collision_layer = 4
collision_mask = 7
physics_material_override = SubResource("PhysicsMaterial_a282x")
lock_rotation = true
script = ExtResource("1_jidxe")
max_speed = 800.0
max_fall_speed = 800.0
knockback_speed = 500.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_l2k6h")

[node name="ParryBox" type="Area2D" parent="." node_paths=PackedStringArray("enemy")]
position = Vector2(-60, -33)
collision_layer = 4
collision_mask = 2
script = ExtResource("2_udssa")
enemy = NodePath("..")

[node name="CollisionShape2D" type="CollisionShape2D" parent="ParryBox"]
shape = SubResource("CircleShape2D_jxhfq")

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("pawn", "initial_state")]
script = ExtResource("3_plxwu")
pawn = NodePath("..")
initial_state = NodePath("Chase")

[node name="Chase" type="Node" parent="StateMachine" node_paths=PackedStringArray("knockback_state")]
script = ExtResource("4_avyhj")
knockback_state = NodePath("../Knockback")

[node name="Knockback" type="Node" parent="StateMachine" node_paths=PackedStringArray("chase")]
script = ExtResource("5_7fu8x")
chase = NodePath("../Chase")
